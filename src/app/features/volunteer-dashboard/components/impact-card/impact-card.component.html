<div class="impact-card-container">
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">My Impact</h2>
        <div class="period-selector">
          <button class="period-btn" [class.active]="activePeriod === 'week'" (click)="changePeriod('week')">Week</button>
          <button class="period-btn" [class.active]="activePeriod === 'month'" (click)="changePeriod('month')">Month</button>
          <button class="period-btn" [class.active]="activePeriod === 'year'" (click)="changePeriod('year')">Year</button>
        </div>
      </div>
      
      <div class="card-content" *ngIf="impactData">
        <div class="impact-chart">
          <div class="chart-bars">
            <div class="chart-bar" *ngFor="let value of impactData.weeklyData; let i = index" [style.height.%]="value">
              <span class="bar-label">{{dayLabels[i]}}</span>
            </div>
          </div>
        </div>
        
        <div class="impact-metrics">
          <div class="metric">
            <span class="metric-value">{{impactData.hoursVolunteered}}</span>
            <span class="metric-label">Hours this week</span>
            <div class="metric-trend positive" *ngIf="impactData.hoursChange > 0">
              <i class="fas fa-arrow-up"></i>
              <span>{{impactData.hoursChange}}% from last week</span>
            </div>
            <div class="metric-trend negative" *ngIf="impactData.hoursChange < 0">
              <i class="fas fa-arrow-down"></i>
              <span>{{Math.abs(impactData.hoursChange)}}% from last week</span>
            </div>
          </div>
          
          <div class="metric">
            <span class="metric-value">{{impactData.pointsEarned}}</span>
            <span class="metric-label">Points this week</span>
            <div class="metric-trend positive" *ngIf="impactData.pointsChange > 0">
              <i class="fas fa-arrow-up"></i>
              <span>{{impactData.pointsChange}}% from last week</span>
            </div>
            <div class="metric-trend negative" *ngIf="impactData.pointsChange < 0">
              <i class="fas fa-arrow-down"></i>
              <span>{{Math.abs(impactData.pointsChange)}}% from last week</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>